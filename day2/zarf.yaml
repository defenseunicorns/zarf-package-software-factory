# yaml-language-server: $schema=https://raw.githubusercontent.com/defenseunicorns/zarf/v0.32.6/zarf.schema.json
kind: ZarfPackageConfig
metadata:
  name: software-factory

components:
  - name: setup
    required: true
    repos:
      - "###ZARF_PKG_TMPL_DI2ME_REPO###"
    manifests:
      - name: setup-config
        files:
          - ../manifests/setup.yaml
  - name: postgres-operator
    required: true
    manifests:
      - name: postgres-operator-config
        files:
          - ../manifests/postgres-operator.yaml
  - name: gitlab-redis
    required: true
    manifests:
      - name: gitlab-redis-config
        files:
          - ../manifests/gitlab-redis.yaml
  - name: big-bang
    required: true
    manifests:
      - name: big-bang-config
        files:
          - ../manifests/big-bang.yaml
  - name: softwarefactoryaddons
    required: true
    manifests:
      - name: softwarefactoryaddons-config
        files:
          - ../manifests/softwarefactoryaddons.yaml
  - name: neuvector-cve-update
    required: false
    images:
      - "registry1.dso.mil/ironbank/neuvector/neuvector/scanner:5"
